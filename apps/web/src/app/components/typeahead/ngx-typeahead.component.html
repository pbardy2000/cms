<ng-template #suggestionsTplRef>
  @if (showSuggestions()) {
    <section
      class="absolute w-full border-b-2 border-l-2 border-r-2 border-black bg-white overflow-auto max-h-96"
    >
      <div class="ta-backdrop" (click)="hideSuggestions()"></div>
      @for (result of results; track $index) {
        <button
          type="button"
          class="relative z-2 block w-full group focus:outline-none"
          [class.active]="markIsActive($index, result)"
          (click)="handleSelectionClick(result, $index)"
        >
          <ng-template
            [ngTemplateOutlet]="taItemTpl()"
            [ngTemplateOutletContext]="{ $implicit: { result, index: $index, suggestionIndex } }"
          ></ng-template>
        </button>
      } @empty {
        <ng-template
          [ngTemplateOutlet]="taItemTpl()"
          [ngTemplateOutletContext]="{
            $implicit: {
              result: { label: 'No results found', value: null },
              index: 0,
              suggestionIndex
            },
          }"
        ></ng-template>
      }
    </section>
  }
</ng-template>
