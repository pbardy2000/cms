<ng-template #suggestionsTplRef>
  @if (showSuggestions()) {
    <section class="suggestions-container">
      <div class="ta-backdrop" (click)="hideSuggestions()"></div>
      @for (result of results; track $index) {
        <button
          type="button"
          class="suggestion"
          [class.active]="markIsActive($index, result)"
          (click)="handleSelectionClick(result, $index)"
        >
          <ng-template
            [ngTemplateOutlet]="taItemTpl()"
            [ngTemplateOutletContext]="{ $implicit: { result, index: $index, suggestionIndex } }"
          ></ng-template>
        </button>
      } @empty {
        <ng-template
          [ngTemplateOutlet]="taItemTpl()"
          [ngTemplateOutletContext]="{
            $implicit: {
              result: { label: 'No results found', value: null },
              index: 0,
              suggestionIndex,
            },
          }"
        ></ng-template>
      }
    </section>
  }
</ng-template>
