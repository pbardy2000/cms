<div class="govuk-form-group" [class.govuk-form-group--error]="error()">
  @if (label()) {
    <h1 class="govuk-label-wrapper">
      <label class="govuk-label" [htmlFor]="id()">
        {{ label() }}
      </label>
    </h1>
  }

  @if (hint()) {
    <div [id]="`${id()}-hint`" class="govuk-hint">
      {{ hint() }}
    </div>
  }

  @if (error()) {
    <app-error-message [id]="id()">
      {{ error() }}
    </app-error-message>
  }

  <div class="govuk-input__wrapper">
    @if (prefix()) {
      <div class="govuk-input__prefix" aria-hidden="true">
        {{ prefix() }}
      </div>
    }

    <input
      class="govuk-input"
      [class.govuk-input--error]="error()"
      [class.govuk-input--extra-letter-spacing]="letterspacing() === 'wide'"
      [id]="id()"
      [name]="name()"
      [disabled]="disabled()"
      [inputMode]="type() === 'number' ? 'numeric' : 'text'"
      [attr.spellcheck]="spellcheck()"
      [attr.autocomplete]="autocomplete()"
      [attr.autocapitalize]="autocapitalize()"
      [attr.aria-describedby]="hint() ? `${id()}-hint` : undefined"
      [attr.placeholder]="placeholder()"
      [attr.aria-label]="label()"
      [(ngModel)]="value"
      (ngModelChange)="onChange($event)"
      (blur)="onTouched()"
    />

    @if (suffix()) {
      <div class="govuk-input__suffix" aria-hidden="true">
        {{ suffix() }}
      </div>
    }
  </div>
</div>
